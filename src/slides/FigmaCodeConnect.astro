---
import Slide from "../components/slide/Slide.astro";
import { highlightCode } from "../utils/shiki-helper";

interface Props {
  order?: number;
}

const { order } = Astro.props;

const codeConnectExample = `// figma-code-connect.config.ts
import { NeuronButton } from '@neuron/ui';
import figma from '@figma/code-connect';

figma.connect(NeuronButton, 'https://figma.com/...', {
  props: {
    variant: figma.enum('Variant', {
      primary: 'primary',
      secondary: 'secondary',
    }),
    size: figma.enum('Size', {
      small: 'small',
      medium: 'medium',
    }),
    label: figma.string('Label'),
  },
  example: ({ variant, size, label }) => (
    <NeuronButton variant={variant} size={size}>
      {label}
    </NeuronButton>
  ),
});`;

const highlightedCode = await highlightCode(codeConnectExample, "tsx");
---

<Slide title="Figma Code Connect" desc="Most medzi kódom a Figmou" order={order}>
  <div slot="left">
    <p>
      Nenápadný npm balík <code>@figma/code-connect</code>.
    </p>
    <br />
    <p>
      Vytvára <strong>most</strong> medzi source code komponentmi
      a Figmou.
    </p>
    <br />
    <p>
      Vývojár vidí priamo vo Figme <strong>zdrojový kód</strong>
      komponentu v danej konfigurácii.
    </p>
    <br />
    <p>
      Figma MCP potom <strong>vie</strong>, ktorú komponentu použiť.
    </p>
  </div>
  <div slot="right" set:html={highlightedCode} />
</Slide>
