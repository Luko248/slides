---
import Slide from "../components/slide/Slide.astro";
import { highlightCode } from "../utils/shiki-helper";

interface Props {
  order?: number;
}

const { order } = Astro.props;

const postInstallScript = `// postinstall.js
const fs = require('fs');
const path = require('path');

const source = path.join(
  __dirname, '..', 'node_modules',
  '@neuron/ai-guidelines', 'dist'
);

const target = path.join(__dirname, '..');

// Copy guidelines to project root
fs.cpSync(
  path.join(source, 'docs'),
  path.join(target, 'docs'),
  { recursive: true }
);

// Copy AI adapter config
fs.cpSync(
  path.join(source, '.windsurf'),
  path.join(target, '.windsurf'),
  { recursive: true }
);`;

const highlightedCode = await highlightCode(postInstallScript, "javascript");
---

<Slide title="Distribúcia" desc="npm balík s post-install scriptom" order={order}>
  <div slot="left">
    <p>
      Ako to dostať k vývojovým tímom?
    </p>
    <br />
    <p>
      Zdieľané repo? <strong>Nie.</strong>
      Manuálne kopírovanie? <strong>Nie.</strong>
    </p>
    <br />
    <p>
      Riešenie: <strong>npm balík</strong> s <code>post-install</code> scriptom.
    </p>
    <br />
    <p>
      Po inštalácii berie obsah z balíka a vkladá ho
      priamo do <strong>codebase vývojára</strong>.
    </p>
  </div>
  <div slot="right" set:html={highlightedCode} />
</Slide>
